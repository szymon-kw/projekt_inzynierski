<!DOCTYPE html>
<html lang="pl" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista zgłoszeń</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,
    700;1,900&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/57474b4673.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../static/styles/main.css" th:href="@{/styles/main.css}">

</head>
<body>

<div class="container">
    <nav>

        <a href="" th:href="@{/home}" class="nav-item">Powrót do panelu</a>
        <a href="" th:href="@{/logout}" class="nav-item">Wyloguj się</a>
    </nav>

    <main class="main-content">

<!--        <div class="report-filter-section">-->
<!--            <div class="report-filter-box">-->
<!--                <p>Filtrowanie według statusu</p>-->
<!--                <button>Oczekujące</button>-->
<!--                <button>W trakcie przeglądu</button>-->
<!--                <button>Zakończone</button>-->
<!--            </div>-->

<!--            <div class="report-filter-box">-->
<!--                <p>Filtrowanie według kategorii</p>-->
<!--                <button>Krytyczne</button>-->
<!--                <button>Poważne</button>-->
<!--                <button>Drobne</button>-->
<!--            </div>-->
<!--        </div>-->



        <div class="nearing-deadline-reports-box">
            <h2 class="nearing-deadline-reports-header">Lista zgłoszeń</h2>
            <table class="latest-reports-table">
                <thead>
                <tr>
                    <th>#</th>
                    <th>Tytuł</th>
                    <th>Data dodania</th>
                    <th>Deadline</th>
                    <th>Pozostały czas</th>
                    <th>Kategoria</th>
                    <th>Status</th>
                    <th>Przypisany pracownik</th>
                    <th>Szczegóły</th></tr>
                </thead>
                <tbody th:remove="all-but-first">
                <tr th:each="report, status: ${reports}">
                    <td th:text="${status.count}">1</td>
                    <td th:text="${report.title}">Niedziałająca strona logowania</td>
                    <td th:text="${report.dateAdded}">19.10.2024 20:50</td>
                    <td th:text="${report.dueDate}">25.10.2024 21:43</td>
                    <td th:if="${report.remainingTime.days lt 0 or report.status.description == 'Zakończone'}">-</td>
                    <td th:unless="${report.remainingTime.days lt 0 or report.status.description == 'Zakończone'}"
                        th:text="|${report.remainingTime.days} dni ${report.remainingTime.hours} godz. ${report.remainingTime.minutes} min.|">
                        x dni x godzin x minut</td>
                    <td th:text="${report.category.description}">Poważne</td>
                    <td th:text="${report.status.description}">W trakcie przeglądu</td>
                    <td th:text="${report.assignedUser != null ? report.assignedUser.email : 'Brak'}">jankowalski9</td>
                    <td><a th:href="@{/chat(reportId=${report.id})}">Sprawdź</a></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>19.10.2024 20:50</td>
                    <td>35min</td>
                    <td>Poważne</td>
                    <td>W trakcie przeglądu</td>
                    <td>jankowalski9</td>
                    <td><button>Sprawdź</button></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>19.10.2024 20:50</td>
                    <td>35min</td>
                    <td>Poważne</td>
                    <td>W trakcie przeglądu</td>
                    <td>jankowalski9</td>
                    <td><button>Sprawdź</button></td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>19.10.2024 20:50</td>
                    <td>35min</td>
                    <td>Poważne</td>
                    <td>W trakcie przeglądu</td>
                    <td>jankowalski9</td>
                    <td><button>Sprawdź</button></td>
                </tr>
                </tbody>
            </table>
        </div>


    </main>

    <footer>
        Stopka
    </footer>
</div>

</body>
</html>